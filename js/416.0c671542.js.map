{"version":3,"file":"js/416.0c671542.js","mappings":"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","sources":["webpack://doctor_bot/./src/utils/api.js","webpack://doctor_bot/./src/views/AccountManagePage.vue","webpack://doctor_bot/./src/views/AccountManagePage.vue?706d"],"sourcesContent":["import axios from 'axios';\nimport config from '@/config/config';\n\nconst api = axios.create({\n  baseURL: config.apiBaseUrl,\n});\n\nexport default api;","<template>\n  <div class=\"account-manage-container\">\n    <h1>Account Settings</h1>\n    <div v-if=\"errorMessage\" class=\"error-message\">\n      {{ errorMessage }}\n    </div>\n    <div class=\"form-group\">\n      <label for=\"email\">Email:</label>\n      <input type=\"email\" id=\"email\" v-model=\"email\" disabled>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"username\">Username:</label>\n      <input type=\"text\" id=\"username\" v-model=\"userName\" disabled>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"license\">Doctor License Number:</label>\n      <input type=\"text\" id=\"license\" v-model=\"licenseNumber\" placeholder=\"Enter your license number\">\n    </div>\n    <div class=\"button-group\">\n      <button @click=\"saveChanges\" class=\"primary-button\" :disabled=\"isSaving\">\n        {{ isSaving ? 'Saving...' : 'Save Changes' }}\n      </button>\n      <button @click=\"goToChatbot\" class=\"secondary-button\">Back to Chatbot</button>\n      <button @click=\"logout\" class=\"logout-button\">Logout</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { auth } from '@/firebase';\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport api from '@/utils/api';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    const email = ref('');\n    const userName = ref('');\n    const licenseNumber = ref('');\n    const errorMessage = ref('');\n    const isSaving = ref(false);\n\n    onMounted(() => {\n      onAuthStateChanged(auth, async (user) => {\n        if (user) {\n          email.value = user.email;\n          userName.value = user.displayName || 'N/A';\n          try {\n            const response = await api.get('/api/check-license', { params: { email: user.email } });\n            licenseNumber.value = response.data.license_number || '';\n          } catch (error) {\n            console.error('Error fetching license number:', error);\n            errorMessage.value = 'Failed to fetch license information. Please try again later.';\n          }\n        } else {\n          router.push('/login');\n        }\n      });\n    });\n\n    const saveChanges = async () => {\n      errorMessage.value = '';\n      isSaving.value = true;\n      try {\n        await api.post('/api/regist_user_info', {\n          email: email.value,\n          user_name: userName.value,\n          license_number: licenseNumber.value\n        });\n        router.push('/chatbot');\n      } catch (error) {\n        console.error('Error saving user information:', error);\n        errorMessage.value = 'Failed to save changes. Please try again later.';\n      } finally {\n        isSaving.value = false;\n      }\n    };\n\n    const goToChatbot = () => {\n      router.push('/chatbot');\n    };\n\n    const logout = async () => {\n      try {\n        await signOut(auth);\n        router.push('/login');\n      } catch (error) {\n        console.error('Error signing out:', error);\n        errorMessage.value = 'Failed to log out. Please try again.';\n      }\n    };\n\n    return {\n      email,\n      userName,\n      licenseNumber,\n      errorMessage,\n      isSaving,\n      saveChanges,\n      goToChatbot,\n      logout\n    };\n  }\n};\n</script>\n\n<style scoped>\n.account-manage-container {\n  max-width: 500px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 5px;\n}\n\ninput {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.button-group {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n}\n\n.primary-button, .secondary-button, .logout-button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.primary-button {\n  background-color: #4285F4;\n  color: white;\n}\n\n.secondary-button {\n  background-color: #6c757d;\n  color: white;\n}\n\n.logout-button {\n  background-color: #dc3545;\n  color: white;\n}\n\n.primary-button:hover {\n  background-color: #357ae8;\n}\n\n.secondary-button:hover {\n  background-color: #5a6268;\n}\n\n.logout-button:hover {\n  background-color: #c82333;\n}\n.error-message {\n  color: red;\n  margin-bottom: 15px;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.form-group input:disabled {\n  background-color: #f0f0f0;\n  cursor: not-allowed;\n}\n</style>","import { render } from \"./AccountManagePage.vue?vue&type=template&id=1fce676c&scoped=true\"\nimport script from \"./AccountManagePage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountManagePage.vue?vue&type=script&lang=js\"\n\nimport \"./AccountManagePage.vue?vue&type=style&index=0&id=1fce676c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1fce676c\"]])\n\nexport default __exports__"],"names":["api","axios","create","baseURL","config","apiBaseUrl","class","_createElementVNode","key","for","_createElementBlock","_hoisted_1","_hoisted_2","$setup","errorMessage","_hoisted_3","_toDisplayString","_createCommentVNode","_hoisted_4","_hoisted_5","type","id","_cache","$event","email","disabled","_hoisted_6","_hoisted_7","userName","_hoisted_8","_hoisted_9","licenseNumber","placeholder","_hoisted_10","onClick","args","saveChanges","isSaving","_hoisted_11","goToChatbot","logout","setup","router","useRouter","ref","onMounted","onAuthStateChanged","auth","async","user","value","displayName","response","get","params","data","license_number","error","console","push","post","user_name","signOut","__exports__","render"],"sourceRoot":""}